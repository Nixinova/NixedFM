<!DOCTYPE html>
<html>

<head>
    <title>Your Profile | NixedFM</title>
    <link rel="stylesheet" href="style.css">
    <script src="load.js"></script>
    <script>
        function loadRecentTracks() {
            const datefmt = new Intl.DateTimeFormat('en-GB', { dateStyle: 'short', timeStyle: 'short' });
            let tbody = '';
            for (let i = 0; i < 10; i++) {
                const data = scrobbles[i];
                tbody += `<tr>
                    <td>
                        <a href="info?artist=${data.artist}&track=${data.track}">${data.track}</a>
                    </td>
                    <td>
                        <small>by</small> <a href="#">${data.artist}</a>
                    </td>
                    <td>
                        ${data.album ? `<small>on</small> <a href="info?artist=${data.artist}&album=${data.album}">${data.album}</a>` : ''}
                    </td>
                    <td>
                        <small><a href="#">${datefmt.format(new Date(data.utc_time))}</a> UTC</small>
                    </td>
                </tr>`;
            }
            document.querySelector('#recent-tracks').innerHTML = tbody;
        }

        window.funcs = [loadRecentTracks];
    </script>
</head>

<body>
    <h1>NixedFM</h1>

    <nav>
        <a href="./">Home</a>
    </nav>

    <h2>Your Profile</h2>


    <h3>Recent Tracks</h3>
    <table id="recent-tracks">
    </table>
</body>

</html>
